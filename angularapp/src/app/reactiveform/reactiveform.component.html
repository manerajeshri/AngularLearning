<p>reactiveform works!</p>

<div class="container">
    <div>
        <div>
            <form [formGroup]="myReactiveForm" (ngSubmit)="onSubmit()">
<!-- FormGroup -->
<div formGroupName="userDetails">
    <div class="form-group">
        <label for="username"> Username</label>
        <input formControlName="username" type="text" class="form-control" id="username" placeholder="Enter Name">
        <small class="text-danger" *ngIf="!myReactiveForm.get('userDetails.username').valid &&
                myReactiveForm.get('userDetails.username').touched">
            <span class="text-danger" *ngIf="!myReactiveForm.get('userDetails.username').errors['required']">
                User Name not valid</span>
            <span class="text-danger" *ngIf="myReactiveForm.get('userDetails.username').errors['namesNotAllowed']">
                {{myReactiveForm.get('userDetails.username').value}} Is Already Exist
            </span>
        </small>

        <!-- <small class="text-danger" *ngIf="!myReactiveForm.get('userDeatils.username').valid && 
        myReactiveForm.get('userDeatils.username').touched">
            
        <span *ngIf="myReactiveForm.get('userDeatils.username').errors['required']">
            User name not valid
        </span>
        <span *ngIf="myReactiveForm.get('userDeatils.username').errors['namesNotAllowed']">
            {{myReactiveForm.get('userDeatils.username').value}} is not allowed
        </span>
        </small> -->


    </div>
    <div class="form-group">
        <label for="email">Email</label>
        <!-- formControlName links to the ts form group name -->
        <input formControlName="email" type="email" class="form-control" id="email" placeholder="Enter Email" >
        <small *ngIf="!myReactiveForm.get('userDetails.email').valid && myReactiveForm.get('userDetails.email').touched"> Please enter valid email</small>  
    </div>
</div>


<div class="form-group">
    <label for="course"> Select course</label>
    <select formControlName="course" id="course" class="form-control">
        <option value="Angular">Angular</option>
        <option value="JavaScript">JavaScript</option>
        <option value="TypeScript">TypeScript</option>
    </select>
</div>

<!-- <div class="form-group" FormArrayName="skills">
    <label>Skills</label>
<ng-container *ngFor="let skill of myReactiveForm.get('skills').controls; index as i">
    <input class="form-control" type="text"formControlName="{{i}}" placeholder="Add Skills">
</ng-container>
    <button class="btn btn-light btn-small mt-4 .btn-add" (click)="onAddSkills()"> + Add Skills</button>
</div> -->

<div class="formgroup" formArrayName="skills">
    <label>Skills</label>
    <ng-container *ngFor="let skill of myReactiveForm.get('skills').controls; index as i">
        <input type="text" class="form-control" formControlName="{{i}}" placeholder="Add Skills">
        
    </ng-container>
    
    <button class="btn btn-light btn-small mt-4 btn-add" (click)="OnAddSkills()"><i>+</i>Add Skills</button>
    
</div>

<br>
<button type="submit" class="btn btn-primary" >Submit</button>
            </form>

<!-- to display data -->
<div class="row justify-content-center mt-2" *ngIf="isSubmitted">
    <div class="col-md-6 rounded shadow py4">
      <h2>Form Data</h2>
      <p>Username: <strong>  {{ myReactiveForm.get('userDetails.username').value}}</strong></p>
      <p>Email: <strong>  {{ myReactiveForm.get('userDetails.email').value}}</strong></p>
      <p>Course: <strong>  {{ myReactiveForm.get('course').value}}</strong></p>

    </div>
</div> 


        </div>
    </div>
</div>